<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FILAY :: SYSTEM</title>
    <link rel="icon" type="image/png" href="icons/lapa.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gradient-1: linear-gradient(45deg, #00f0ff, #00ff88, #00f0ff);
            --gradient-2: linear-gradient(135deg, #ff2d55, #ff00ff, #00f0ff);
            --gradient-3: linear-gradient(90deg, #ff00ff, #00f0ff, #00ff88);
            --neon-blue: #00f0ff;
            --neon-green: #00ff88;
            --neon-pink: #ff2d55;
            --neon-purple: #ff00ff;
            --bg-primary: #050505;
            --bg-secondary: #0a0a0a;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --border-color: rgba(0, 240, 255, 0.3);
        }

        :root[data-theme="dark"] {
            --bg-primary: #050505;
            --bg-secondary: #0a0a0a;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --border-color: rgba(0, 240, 255, 0.3);
        }

        :root[data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f0f0f0;
            --text-primary: #000000;
            --text-secondary: rgba(0, 0, 0, 0.7);
            --border-color: rgba(0, 240, 255, 0.5);
        }

        @keyframes neonPulse {
            0%, 100% { filter: brightness(1) drop-shadow(0 0 5px var(--neon-blue)); }
            50% { filter: brightness(1.5) drop-shadow(0 0 15px var(--neon-blue)); }
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes borderGlow {
            0%, 100% { border-color: var(--neon-blue); }
            33% { border-color: var(--neon-green); }
            66% { border-color: var(--neon-pink); }
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes matrix-bg {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        @keyframes float-lines {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        @keyframes title-3d {
            0% { transform: perspective(500px) rotateX(10deg) rotateY(-10deg); }
            50% { transform: perspective(500px) rotateX(-5deg) rotateY(5deg); }
            100% { transform: perspective(500px) rotateX(10deg) rotateY(-10deg); }
        }

        @keyframes cyber-bg {
            0% { transform: translateZ(0) rotate(0deg); }
            100% { transform: translateZ(0) rotate(360deg); }
        }

        @keyframes data-flow {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        @keyframes grid-move {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }

        @keyframes title-glitch {
            0%, 100% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
            95% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
            96% { clip-path: polygon(20% 0, 80% 0, 80% 100%, 20% 100%); }
            97% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
            98% { clip-path: polygon(40% 0, 60% 0, 60% 100%, 40% 100%); }
            99% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
        }

        @keyframes tv-glitch {
            0%, 100% { 
                text-shadow: 
                    0.03em 0 0 rgba(255,0,0,0.75),
                    -0.015em -0.03em 0 rgba(0,255,0,0.75),
                    0.015em 0.03em 0 rgba(0,0,255,0.75);
            }
            50% {
                text-shadow: 
                    -0.03em 0 0 rgba(255,0,0,0.75),
                    0.015em 0.03em 0 rgba(0,255,0,0.75),
                    -0.015em -0.03em 0 rgba(0,0,255,0.75);
            }
        }

        @keyframes tv-noise {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5px, -5px); }
            20% { transform: translate(5px, 5px); }
            30% { transform: translate(-3px, 3px); }
            40% { transform: translate(3px, -3px); }
            50% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            70% { transform: translate(-1px, 1px); }
            80% { transform: translate(1px, -1px); }
            90% { transform: translate(-1px, -1px); }
        }

        @keyframes slide-up {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes fade-in {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slide-in-right {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slide-in-left {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Orbitron', sans-serif;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            color: var(--text-primary);
            z-index: 1000;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 2px;
            animation: neonPulse 2s infinite;
            transform: translateX(-100%);
            transition: transform 0.5s ease-out;
        }

        .theme-toggle:hover {
            background: var(--gradient-1);
            background-size: 200% 200%;
            animation: gradientFlow 2s infinite;
            color: var(--bg-primary);
        }

        .theme-toggle.visible {
            transform: translateX(0);
        }

        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        ::-webkit-scrollbar {
            width: 10px;
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--neon-blue);
            border-radius: 5px;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--neon-purple);
        }

        ::-webkit-scrollbar-track {
            background: linear-gradient(
                180deg,
                transparent,
                rgba(0, 240, 255, 0.1),
                transparent
            );
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -4;
            background: 
                radial-gradient(circle at 20% 20%, rgba(0, 240, 255, 0.2), transparent 40%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.2), transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(0, 255, 136, 0.1), transparent 60%),
                var(--bg-primary);
            animation: bg-pulse 8s infinite;
        }

        @keyframes bg-pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .cyber-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background: 
                linear-gradient(90deg, rgba(0,240,255,0.1) 1px, transparent 1px),
                linear-gradient(0deg, rgba(0,240,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            transform-origin: center;
            animation: cyber-bg 30s linear infinite;
            z-index: -3;
        }

        .data-stream {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.3;
        }

        .data-stream::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200%;
            background: 
                linear-gradient(90deg,
                    transparent,
                    rgba(0, 240, 255, 0.2) 20%,
                    transparent 40%
                ),
                linear-gradient(90deg,
                    transparent 60%,
                    rgba(255, 0, 255, 0.2) 80%,
                    transparent
                );
            background-size: 200% 100%;
            animation: stream-move 10s linear infinite;
        }

        @keyframes stream-move {
            0% {
                background-position: 100% 0;
                transform: translateY(0);
            }
            100% {
                background-position: -100% 0;
                transform: translateY(-50%);
            }
        }

        .hex-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                repeating-linear-gradient(60deg, 
                    rgba(0,240,255,0.1) 0px,
                    rgba(0,240,255,0.1) 2px,
                    transparent 2px,
                    transparent 40px
                ),
                repeating-linear-gradient(-60deg,
                    rgba(255,0,255,0.1) 0px,
                    rgba(255,0,255,0.1) 2px,
                    transparent 2px,
                    transparent 40px
                );
            animation: grid-move 20s linear infinite;
            z-index: -1;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--neon-blue);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-blue);
            animation: float-particle 10s infinite linear;
        }

        @keyframes float-particle {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }

        .scroll-element {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform, opacity;
        }

        .title-container {
            position: relative;
            margin: 150px 0;
            text-align: center;
            perspective: 1000px;
            transform-style: preserve-3d;
            min-height: 200px;
        }

        .info-card {
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 15px;
            padding: 50px;
            margin: 100px 0;
            max-width: 800px;
            box-shadow: 0 0 30px rgba(0,240,255,0.1);
            position: relative;
            overflow: hidden;
            animation: borderGlow 5s infinite;
        }

        .info-line {
            color: var(--text-primary);
            font-size: 1rem;
            line-height: 2;
            padding: 20px;
            border-left: 2px solid var(--neon-blue);
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .buttons-container {
            margin: 100px 0;
            padding: 50px;
            gap: 40px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
        }

        .buttons-container .cyber-button:last-child {
            grid-column: 1 / -1;
            width: 50%;
            margin: 0 auto;
        }

        .cyber-button {
            position: relative;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--neon-blue);
            padding: 20px 30px;
            color: var(--neon-blue);
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 2px;
            overflow: hidden;
            transition: 0.3s;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }

        .cyber-button::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--neon-blue), 
                var(--neon-purple), 
                var(--neon-pink), 
                var(--neon-blue)
            );
            background-size: 400% 400%;
            z-index: -1;
            animation: gradientFlow 3s ease infinite;
            opacity: 0.3;
            transition: opacity 0.3s ease;
        }

        .cyber-button:hover {
            color: var(--bg-primary);
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
            transform: translateY(-2px);
        }

        .cyber-button:hover::before {
            animation: gradientFlow 1s ease infinite;
            opacity: 0.6;
        }

        .button-icon {
            width: 30px;
            height: 30px;
            filter: brightness(1.5) drop-shadow(0 0 5px var(--neon-blue));
            transition: all 0.3s ease;
        }

        .cyber-button:hover .button-icon {
            filter: brightness(2) drop-shadow(0 0 10px var(--neon-blue));
            transform: scale(1.1);
        }

        /* Стили для плеера */
        .custom-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--neon-blue);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            z-index: 1000;
            transform: translateY(100%);
            transition: transform 0.5s ease-out;
        }

        .custom-player.visible {
            transform: translateY(0);
        }

        .player-header {
            color: var(--neon-blue);
            text-align: center;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
            text-shadow: 0 0 10px var(--neon-blue);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .progress-container {
            cursor: pointer;
            height: 6px;
            background: rgba(0, 240, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            width: 0;
            background: var(--neon-blue);
            box-shadow: 0 0 10px var(--neon-blue);
            transition: width 0.1s linear;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            right: -2px;
            top: -3px;
            width: 8px;
            height: 8px;
            background: var(--neon-blue);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        .time-display {
            display: flex;
            justify-content: space-between;
            color: var(--neon-blue);
            font-size: 0.8rem;
            margin: 5px 0;
            text-shadow: 0 0 5px var(--neon-blue);
        }

        .track-info {
            text-align: center;
            margin: 10px 0;
            font-size: 0.9rem;
            color: var(--text-primary);
            text-shadow: 0 0 5px var(--neon-blue);
            padding: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .player-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .player-button {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 12px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .player-button:hover {
            background: var(--neon-blue);
            color: var(--bg-primary);
            box-shadow: 0 0 15px var(--neon-blue);
        }

        .player-button:active {
            transform: scale(0.95);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 5px;
        }

        .volume-slider {
            flex-grow: 1;
            height: 4px;
            background: rgba(0, 240, 255, 0.1);
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .volume-level {
            height: 100%;
            width: 100%;
            background: var(--neon-blue);
            border-radius: 2px;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        /* Анимации для появления элементов */
        .fade-up {
            transform: translateY(50px);
        }

        .fade-left {
            transform: translateX(-100px);
        }

        .fade-right {
            transform: translateX(100px);
        }

        .fade-scale {
            transform: scale(0.8);
        }

        /* Состояния видимости с разными эффектами */
        .scroll-element.visible {
            opacity: 1;
            transform: translate(0) scale(1);
        }

        /* Добавляем задержки для последовательной анимации */
        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; }
        .delay-5 { transition-delay: 0.5s; }

        .cyber-title {
            font-size: 6rem;
            font-weight: 900;
            text-transform: uppercase;
            position: relative;
            display: inline-block;
            color: var(--neon-blue);
            text-shadow: 
                0 0 10px var(--neon-blue),
                0 0 20px var(--neon-blue),
                0 0 40px var(--neon-blue);
            animation: 
                tv-glitch 2.5s infinite,
                tv-noise 5s infinite;
            transform-style: preserve-3d;
            letter-spacing: 5px;
        }

        .cyber-title::before,
        .cyber-title::after {
            content: 'ФИЛЯ';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            mix-blend-mode: screen;
        }

        .cyber-title::before {
            color: var(--neon-pink);
            transform: translateX(-5px) translateZ(10px);
            animation: tv-noise 4s infinite reverse;
        }

        .cyber-title::after {
            color: var(--neon-green);
            transform: translateX(5px) translateZ(-10px);
            animation: tv-noise 4s infinite;
        }

        .system-clock {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-secondary);
            padding: 15px 20px;
            border-radius: 15px;
            border: 2px solid var(--border-color);
            box-shadow: 0 0 20px rgba(0,240,255,0.2);
            z-index: 1000;
            animation: borderGlow 5s infinite;
            transform: translateX(100%);
            transition: transform 0.5s ease-out;
        }

        .system-clock.visible {
            transform: translateX(0);
        }

        .time {
            color: var(--text-primary);
            font-size: 0.9rem;
            margin: 5px 0;
            text-shadow: 0 0 10px var(--neon-blue);
            letter-spacing: 1px;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 200% 200%;
            animation: gradientFlow 2s infinite;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 100px auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 150px;
        }

        .copyright {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            z-index: 1000;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientFlow 3s infinite;
            text-shadow: 0 0 10px var(--neon-blue);
            padding: 10px 20px;
            white-space: nowrap;
            backdrop-filter: blur(5px);
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                gap: 50px;
                margin: 30px auto;
            }

            .title-container {
                margin: 80px 0;
            }

            .cyber-title {
                font-size: 3.5rem;
                letter-spacing: 3px;
            }

            .info-card {
                margin: 30px 0;
                padding: 25px;
            }

            .info-line {
                font-size: 0.9rem;
                padding: 15px;
                margin: 20px 0;
            }

            .buttons-container {
                margin: 30px 0;
                padding: 20px;
                gap: 15px;
                grid-template-columns: 1fr;
            }

            .cyber-button {
                padding: 15px;
                font-size: 0.8rem;
                width: 100%;
            }

            .buttons-container .cyber-button:last-child {
                width: 100%;
            }

            .button-icon {
                width: 25px;
                height: 25px;
            }

            .custom-player {
                position: relative;
                bottom: auto;
                right: auto;
                left: auto;
                width: 90%;
                margin: 20px auto;
                transform: none;
            }

            .custom-player.visible {
                transform: none;
            }

            .player-header {
                font-size: 0.8rem;
            }

            .track-info {
                font-size: 0.8rem;
            }

            .player-controls {
                gap: 8px;
            }

            .player-button {
                padding: 10px;
                font-size: 1rem;
                min-height: 44px;
                min-width: 44px;
            }

            .time-display {
                font-size: 0.7rem;
            }

            .progress-container {
                height: 5px;
                margin: 12px 0;
            }

            .volume-control {
                margin-top: 12px;
            }

            .theme-toggle {
                top: 10px;
                left: 10px;
                padding: 8px 15px;
                font-size: 0.7rem;
            }

            .system-clock {
                top: 10px;
                right: 10px;
                padding: 8px 15px;
            }

            .time {
                font-size: 0.7rem;
            }

            .copyright {
                bottom: 10px;
                font-size: 0.7rem;
                padding: 5px 10px;
                width: 100%;
                text-align: center;
                background: rgba(0, 0, 0, 0.8);
            }

            /* Улучшенные стили для мобильных устройств */
            .background {
                background-size: 200% 200%;
            }

            .cyber-grid {
                background-size: 30px 30px;
            }

            .hex-pattern {
                opacity: 0.3;
            }

            .data-stream {
                opacity: 0.2;
            }

            /* Оптимизация анимаций для мобильных устройств */
            @keyframes tv-glitch {
                0%, 100% { 
                    text-shadow: 
                        0.03em 0 0 rgba(255,0,0,0.75),
                        -0.015em -0.03em 0 rgba(0,255,0,0.75),
                        0.015em 0.03em 0 rgba(0,0,255,0.75);
                }
                50% {
                    text-shadow: 
                        -0.03em 0 0 rgba(255,0,0,0.75),
                        0.015em 0.03em 0 rgba(0,255,0,0.75),
                        -0.015em -0.03em 0 rgba(0,0,255,0.75);
                }
            }

            .scroll-element {
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            }

            /* Улучшенное управление для сенсорных экранов */
            .progress-container {
                height: 8px;
            }

            .volume-slider {
                height: 6px;
            }

            /* Фиксы для iPhone */
            @supports (-webkit-touch-callout: none) {
                .cyber-button {
                    -webkit-backdrop-filter: blur(10px);
                }

                .custom-player {
                    -webkit-backdrop-filter: blur(10px);
                }

                .background {
                    -webkit-transform: translateZ(0);
                }
            }

            /* Фиксы для маленьких экранов */
            @media (max-width: 360px) {
                .cyber-title {
                    font-size: 3rem;
                }

                .buttons-container {
                    gap: 10px;
                }

                .cyber-button {
                    padding: 12px;
                    font-size: 0.7rem;
                }

                .button-icon {
                    width: 20px;
                    height: 20px;
                }
            }

            /* Фиксы для ландшафтной ориентации */
            @media (max-height: 500px) {
                .title-container {
                    margin: 40px 0;
                }

                .cyber-title {
                    font-size: 3rem;
                }

                .info-card {
                    margin: 20px 0;
                    padding: 15px;
                }

                .custom-player {
                    bottom: 10px;
                }

                .copyright {
                    display: none;
                }
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">LIGHT MODE</button>
    <div class="background"></div>
    <div class="cyber-grid"></div>
    <div class="data-stream"></div>
    <div class="hex-pattern"></div>

    <div class="system-clock">
        <div class="time" id="utc-time">UTC: --:--:--</div>
        <div class="time" id="msk-time">MSK: --:--:--</div>
    </div>

    <div class="container">
        <div class="title-container">
            <h1 class="cyber-title">ФИЛЯ</h1>
        </div>

        <div class="info-card">
            <div class="info-line">SYSTEM_ADMIN: FILAY</div>
            <div class="info-line">STATUS: ONLINE</div>
            <div class="info-line">LOCATION: CYBERPUNK_CITY_2052</div>
            <div class="info-line">SPECIALIZATION: DEVELOPMENT & CREATION</div>
            <div class="info-line">CURRENT_TASK: EXPLORING NEW TECHNOLOGIES</div>
            <div class="info-line">MISSION: CREATING UNIQUE DIGITAL EXPERIENCES</div>
        </div>

        <div class="buttons-container">
            <a href="https://t.me/KRgtaVRchat" target="_blank" class="cyber-button">
                <img src="icons/tg1.png" alt="Channel" class="button-icon">TG_CHANNEL
            </a>
            <a href="https://t.me/Filay31" target="_blank" class="cyber-button">
                <img src="icons/tg.png" alt="Contact" class="button-icon">TG_CONTACT
            </a>
            <a href="https://steamcommunity.com/id/Filay621" target="_blank" class="cyber-button">
                <img src="icons/steam.png" alt="Steam" class="button-icon">STEAM_MAIN
            </a>
            <a href="https://steamcommunity.com/id/sosiskaFOX" target="_blank" class="cyber-button">
                <img src="icons/steam.png" alt="Steam" class="button-icon">STEAM_ALT
            </a>
            <a href="https://t.me/Furryghoul" target="_blank" class="cyber-button">
                <span style="color: var(--neon-pink);">❤</span>BF_LINK
            </a>
        </div>
    </div>

    <div class="custom-player">
        <div class="player-header">CYBERPUNK_AUDIO_MATRIX</div>
        <div class="track-info" id="track-info">INITIALIZING_SYSTEM...</div>
        <div class="progress-container" id="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="time-display">
            <span id="current-time">00:00</span>
            <span id="duration">00:00</span>
        </div>
        <div class="player-controls">
            <button class="player-button" onclick="previousTrack()">◄</button>
            <button class="player-button" id="play-pause" onclick="togglePlay()">▶</button>
            <button class="player-button" onclick="nextTrack()">►</button>
        </div>
        <div class="volume-control">
            <div class="volume-slider" id="volume-slider">
                <div class="volume-level" id="volume-level"></div>
            </div>
        </div>
    </div>

    <div class="floating-particles">
        <!-- Particles will be added by JavaScript -->
    </div>

    <div class="copyright">
        © 2052 SYSTEM_CORE: <span>FILAY</span> | ALL_RIGHTS_SECURED
    </div>

    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const button = document.querySelector('.theme-toggle');
            if (html.getAttribute('data-theme') === 'dark') {
                html.setAttribute('data-theme', 'light');
                button.textContent = 'DARK MODE';
            } else {
                html.setAttribute('data-theme', 'dark');
                button.textContent = 'LIGHT MODE';
            }
        }

        function updateTime() {
            const now = new Date();
            const utcString = now.toUTCString().split(' ')[4];
            document.getElementById('utc-time').textContent = `UTC: ${utcString}`;
            
            const mskTime = new Date(now.getTime() + (3 * 60 * 60 * 1000));
            const mskString = mskTime.toUTCString().split(' ')[4];
            document.getElementById('msk-time').textContent = `MSK: ${mskString}`;
        }

        let audioElement = new Audio();
        let isPlaying = false;
        let currentTrackIndex = 0;
        let tracks = [
            'Part Time Friends.mp3',
            'XdrianGM - Miracle.mp3'
        ];
        let lastScrollPosition = window.pageYOffset;
        let isScrolling = false;

        function togglePlay() {
            if (!audioElement.src && tracks.length > 0) {
                loadTrack(0);
                return;
            }

            if (isPlaying) {
                audioElement.pause();
                document.getElementById('play-pause').textContent = '▶';
            } else {
                const playPromise = audioElement.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        document.getElementById('play-pause').textContent = '⏸';
                    }).catch(error => {
                        console.error('Playback failed:', error);
                    });
                }
            }
            isPlaying = !isPlaying;
        }

        function updateProgress() {
            if (!audioElement.duration) return;
            
            const progress = (audioElement.currentTime / audioElement.duration) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            
            const currentMinutes = Math.floor(audioElement.currentTime / 60);
            const currentSeconds = Math.floor(audioElement.currentTime % 60);
            const durationMinutes = Math.floor(audioElement.duration / 60);
            const durationSeconds = Math.floor(audioElement.duration % 60);

            document.getElementById('current-time').textContent = 
                `${currentMinutes}:${currentSeconds.toString().padStart(2, '0')}`;
            document.getElementById('duration').textContent = 
                `${durationMinutes}:${durationSeconds.toString().padStart(2, '0')}`;
        }

        function seekTo(e) {
            if (!audioElement.duration) return;
            
            const container = document.getElementById('progress-container');
            const rect = container.getBoundingClientRect();
            const clickPosition = (e.clientX - rect.left) / rect.width;
            audioElement.currentTime = clickPosition * audioElement.duration;
        }

        function updateVolume(e) {
            const slider = document.getElementById('volume-slider');
            const rect = slider.getBoundingClientRect();
            const clickPosition = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
            audioElement.volume = clickPosition;
            document.getElementById('volume-level').style.width = `${clickPosition * 100}%`;
        }

        function handleScroll() {
            if (!isScrolling) {
                isScrolling = true;
                requestAnimationFrame(() => {
                    const currentScrollPosition = window.pageYOffset;
                    const scrollingDown = currentScrollPosition > lastScrollPosition;
                    lastScrollPosition = currentScrollPosition;

                    const elements = document.querySelectorAll(
                        '.title-container, .info-card, .info-line, .buttons-container, .cyber-button'
                    );
                    
                    elements.forEach(element => {
                        const rect = element.getBoundingClientRect();
                        const triggerPoint = window.innerHeight * 0.8;
                        
                        if (rect.top <= triggerPoint && rect.bottom >= 0) {
                            // Элемент входит в зону видимости
                            if (!element.classList.contains('visible')) {
                                element.classList.add('visible');
                            }
                        } else {
                            // Элемент выходит из зоны видимости
                            if (element.classList.contains('visible')) {
                                if ((scrollingDown && rect.top > window.innerHeight) || 
                                    (!scrollingDown && rect.bottom < 0)) {
                                    element.classList.remove('visible');
                                }
                            }
                        }
                    });
                    
                    isScrolling = false;
                });
            }
        }

        async function loadTracks() {
            if (tracks.length > 0) {
                loadTrack(0);
            }
        }

        function loadTrack(index) {
            if (index >= 0 && index < tracks.length) {
                const wasPlaying = isPlaying;
                audioElement.src = 'music/' + tracks[index];
                document.getElementById('track-info').textContent = tracks[index].replace('.mp3', '');
                currentTrackIndex = index;
                
                if (wasPlaying) {
                    const playPromise = audioElement.play();
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            document.getElementById('play-pause').textContent = '⏸';
                        }).catch(error => {
                            console.error('Playback failed:', error);
                            isPlaying = false;
                            document.getElementById('play-pause').textContent = '▶';
                        });
                    }
                }
            }
        }

        function nextTrack() {
            let nextIndex = (currentTrackIndex + 1) % tracks.length;
            loadTrack(nextIndex);
        }

        function previousTrack() {
            let prevIndex = currentTrackIndex - 1;
            if (prevIndex < 0) prevIndex = tracks.length - 1;
            loadTrack(prevIndex);
        }

        document.addEventListener('DOMContentLoaded', () => {
            setInterval(updateTime, 1000);
            updateTime();
            loadTracks();
            
            // Инициализация плеера
            document.getElementById('progress-container').addEventListener('click', seekTo);
            document.getElementById('volume-slider').addEventListener('click', updateVolume);
            audioElement.addEventListener('timeupdate', updateProgress);
            audioElement.addEventListener('ended', nextTrack);
            audioElement.volume = 1.0;
            
            // Инициализация анимаций
            createParticles();
            const scrollManager = new ScrollAnimationManager();
            
            // Показываем фиксированные элементы
            setTimeout(() => {
                document.querySelector('.system-clock').classList.add('visible');
                document.querySelector('.theme-toggle').classList.add('visible');
                document.querySelector('.custom-player').classList.add('visible');
            }, 500);
        });

        // Add floating particles
        function createParticles() {
            const container = document.querySelector('.floating-particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random initial position
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                
                // Random animation duration and delay
                const duration = 5 + Math.random() * 10;
                const delay = Math.random() * 5;
                particle.style.animation = `float-particle ${duration}s ${delay}s infinite linear`;

                container.appendChild(particle);
            }
        }

        class ScrollAnimationManager {
            constructor() {
                this.elements = [];
                this.lastScrollPosition = window.pageYOffset;
                this.ticking = false;
                this.init();
            }

            init() {
                // Добавляем классы для анимации ко всем элементам
                this.setupElements();
                
                // Инициализируем наблюдатель за скроллом
                this.setupIntersectionObserver();
                
                // Добавляем обработчик скролла
                window.addEventListener('scroll', () => this.onScroll(), { passive: true });
                
                // Первичная проверка видимости элементов
                this.checkElementsVisibility();
            }

            setupElements() {
                // Находим все элементы для анимации
                const elements = document.querySelectorAll('.title-container, .info-card, .info-line, .buttons-container, .cyber-button');
                
                elements.forEach((element, index) => {
                    // Добавляем базовый класс для анимации
                    element.classList.add('scroll-element');
                    
                    // Добавляем эффекты появления в зависимости от типа элемента
                    if (element.classList.contains('title-container')) {
                        element.classList.add('fade-up', 'fade-scale');
                    } else if (element.classList.contains('info-card')) {
                        element.classList.add('fade-left');
                    } else if (element.classList.contains('info-line')) {
                        element.classList.add(index % 2 === 0 ? 'fade-left' : 'fade-right');
                    } else if (element.classList.contains('cyber-button')) {
                        element.classList.add('fade-up');
                        element.classList.add(`delay-${index % 5 + 1}`);
                    }
                    
                    this.elements.push(element);
                });
            }

            setupIntersectionObserver() {
                const options = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        } else {
                            // Проверяем направление скролла
                            const currentScroll = window.pageYOffset;
                            const scrollingUp = currentScroll < this.lastScrollPosition;
                            
                            if (scrollingUp) {
                                entry.target.classList.remove('visible');
                            }
                            
                            this.lastScrollPosition = currentScroll;
                        }
                    });
                }, options);

                this.elements.forEach(element => observer.observe(element));
            }

            onScroll() {
                if (!this.ticking) {
                    requestAnimationFrame(() => {
                        this.checkElementsVisibility();
                        this.ticking = false;
                    });
                    this.ticking = true;
                }
            }

            checkElementsVisibility() {
                const windowHeight = window.innerHeight;
                const scrollTop = window.pageYOffset;

                this.elements.forEach(element => {
                    const rect = element.getBoundingClientRect();
                    const elementTop = rect.top + scrollTop;
                    
                    // Проверяем, находится ли элемент в зоне видимости
                    if (elementTop < scrollTop + windowHeight * 0.9 && 
                        elementTop + rect.height > scrollTop) {
                        element.classList.add('visible');
                    } else {
                        // Проверяем направление скролла для удаления класса
                        const currentScroll = window.pageYOffset;
                        const scrollingUp = currentScroll < this.lastScrollPosition;
                        
                        if (scrollingUp && elementTop > scrollTop + windowHeight ||
                            !scrollingUp && elementTop + rect.height < scrollTop) {
                            element.classList.remove('visible');
                        }
                    }
                });
            }
        }
    </script>
</body>
</html> 